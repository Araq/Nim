---
{
   "clone": {
      "depth": 1
   },
   "kind": "pipeline",
   "name": "nim-on-arm64",
   "platform": {
      "arch": "arm64",
      "os": "linux"
   },
   "steps": [
      {
         "commands": [
            "curl -sL https://deb.nodesource.com/setup_lts.x | bash -",
            "apt-get install --no-install-recommends -yq valgrind libc6-dbg nodejs libgc-dev libsdl1.2-dev libsfml-dev",
            "git clone --depth 1 https://github.com/nim-lang/csources.git",
            "export PATH=$PWD/bin:$PATH",
            "make -C csources -j$(nproc)",
            "nim c koch",
            "if ! ./koch runCI; then\n  nim c -r tools/ci_testresults\n  exit 1\nfi\n"
         ],
         "image": "gcc:10.2",
         "name": "runci"
      }
   ],
   "type": "docker"
}
---
{
   "clone": {
      "depth": 1
   },
   "kind": "pipeline",
   "name": "nim-on-arm",
   "platform": {
      "arch": "arm",
      "os": "linux"
   },
   "steps": [
      {
         "commands": [
            "curl -sL https://deb.nodesource.com/setup_lts.x | bash -",
            "apt-get install --no-install-recommends -yq nodejs libgc-dev libsdl1.2-dev libsfml-dev",
            "git clone --depth 1 https://github.com/nim-lang/csources.git",
            "export PATH=$PWD/bin:$PATH",
            "make -C csources -j$(nproc) ucpu=arm",
            "nim c koch",
            "if ! ./koch runCI; then\n  nim c -r tools/ci_testresults\n  exit 1\nfi\n"
         ],
         "image": "arm32v7/gcc:10.2",
         "name": "runci"
      }
   ],
   "type": "docker"
}
...
